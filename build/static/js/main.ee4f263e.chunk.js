(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/yelp2.e54ca9c6.png"},31:function(e,t,a){e.exports=a(61)},36:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=(a(36),a(8)),s=a(1),i=a(2),u=a.n(i),m=a(5),p=(a(38),a(27)),d=a.n(p),f=a(3),v=a(28),E=a.n(v).a.create({baseURL:"https://postgres-yelp-clone.herokuapp.com/api/resturants"}),b=a(30),h=Object(n.createContext)(),g=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),s=Object(f.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)([]),p=Object(f.a)(m,2),d=p[0],v=p[1];return r.a.createElement(h.Provider,{value:{resturants:c,setResturents:l,addResturants:function(e){l([].concat(Object(b.a)(c),[e]))},selectedResturants:i,setSelectedResturants:u,reviews:d,setReviews:v}},e.children)};function y(){var e=Object(n.useContext)(h).addResturants,t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(f.a)(o,2),i=s[0],p=s[1],d=Object(n.useState)(""),v=Object(f.a)(d,2),b=v[0],g=v[1],y=function(){var t=Object(m.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,E.post("/",{name:c,location:i,price:b});case 3:n=t.sent,e(n.data.data.resturants),l(""),p(""),g("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{paddingLeft:"0px"}},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",value:c,onChange:function(e){return l(e.target.value)},required:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Location",value:i,onChange:function(e){return p(e.target.value)},required:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select",value:b,onChange:function(e){return g(e.target.value)},required:!0},r.a.createElement("option",{disabled:!0},"Price Range"),r.a.createElement("option",{value:1},"$"),r.a.createElement("option",{value:2},"$$"),r.a.createElement("option",{value:3},"$$$"),r.a.createElement("option",{value:4},"$$$$"),r.a.createElement("option",{value:5},"$$$$$"))),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Add "))))}var w=function(e){for(var t=e.numbers,a=[],n=0;n<Math.ceil(t);n++)t-n>=1?a.push(r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},key:n})):a.push(r.a.createElement("i",{className:"fas fa-star-half-alt",style:{color:"yellow"},key:n}));return a};var j=function(){var e=Object(n.useContext)(h),t=e.resturants,a=e.setResturents,c=Object(s.f)();Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/");case 2:t=e.sent,a(t.data.data.resturants);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var l=function(){var e=Object(m.a)(u.a.mark((function e(n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),e.next=3,E.delete("/".concat(n));case 3:e.sent,a(t.filter((function(e){return e.id!==n})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.stopPropagation(),c.push("/".concat(t,"/update"));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("/reviews/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:d.a,alt:"wall",style:{height:"70vh",width:"100%",marginBottom:"20px"}}),r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("h1",{className:"display-4",style:{textAlign:"center",fontWeight:"800"}},"Add Restuarant")),r.a.createElement("div",{style:{marginBottom:"32px"}},r.a.createElement(y,null)),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("thead",{style:{color:"white",fontWeight:"800",fontSize:"1.2em",backgroundColor:"#854085"}},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Restaurant"),r.a.createElement("th",{scope:"col"},"Location"),r.a.createElement("th",{scope:"col"},"Price Range"),r.a.createElement("th",{scope:"col"},"Rating"),r.a.createElement("th",{scope:"col"},"Edit"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,t&&t.map((function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){return i(e.id)},style:{cursor:"pointer"}},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.location),r.a.createElement("td",null,"$".repeat(e.price_range)),r.a.createElement("td",null,r.a.createElement(w,{numbers:e.average_rating})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",style:{marginleft:"5px"},onClick:function(t){return o(e.id,t)}},"Update")),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(t){return l(e.id,t)}},"Delete")))}))))))};var x=function(e){var t=Object(s.h)().id,a=Object(s.f)(),c=Object(s.g)(),l=Object(n.useState)(""),o=Object(f.a)(l,2),i=o[0],p=o[1],d=Object(n.useState)(""),v=Object(f.a)(d,2),b=v[0],h=v[1],g=Object(n.useState)(""),y=Object(f.a)(g,2),w=y[0],j=y[1],x=function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,E.post("/reviews/".concat(t),{name:i,rating:b,review:w});case 3:e.sent,a.push("/"),a.push(c.pathname);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:x},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{style:{color:"white"}},"Name"),r.a.createElement("input",{type:"text",className:"form-control",value:i,onChange:function(e){return p(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{style:{color:"white"}},"Rating"),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select",value:b,onChange:function(e){return h(e.target.value)},required:!0},r.a.createElement("option",{disabled:!0},"Rating"),r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{color:"white"}},"Review"),r.a.createElement("textarea",{type:"text",className:"form-control",style:{height:"20vh"},value:w,onChange:function(e){return j(e.target.value)},required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Review")))};var N=function(){var e=Object(s.h)().id,t=Object(n.useContext)(h),a=t.selectedResturants,c=t.setSelectedResturants,l=Object(n.useContext)(h),o=l.reviews,i=l.setReviews;Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.get("/".concat(e));case 2:return a=t.sent,t.next=5,E.get("/reviews/".concat(e));case 5:n=t.sent,c(a.data.data.resturants[0]),i(n.data.data.resturants);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var p=o.map((function(e){return r.a.createElement("div",{className:"col-sm-4",key:e.id},r.a.createElement("div",{className:"card text-white bg-primary mb-3"},r.a.createElement("div",{className:"card-header",style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("h5",null,e.name)),r.a.createElement("div",{style:{marginLeft:"60%",justifyContent:"flex-end"}},r.a.createElement(w,{numbers:e.rating}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.review))))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron jumbotron-fluid",style:{backgroundColor:"black",textAlign:"center"}},r.a.createElement("h1",{className:"display-4",style:{color:"white",fontWeight:"800",fontStretch:"semi-expanded"}},a.name),r.a.createElement(w,{numbers:o.map((function(e){return e.rating})).reduce((function(e,t){return e+t}),0)/o.length})),r.a.createElement("div",{className:"row",style:{display:"flex",overflow:"unset"}},p),r.a.createElement("div",{className:"conatainer",style:{marginTop:"20px",marginBottom:"20px"}},r.a.createElement("h1",{style:{textAlign:"center",color:"white",fontWeight:"700"}}," Leave Your Feedback"),r.a.createElement(x,{id:e})))};var O=function(e){var t=e.match.params.id,a=Object(n.useState)(""),c=Object(f.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),p=Object(f.a)(i,2),d=p[0],v=p[1],b=Object(n.useState)(""),h=Object(f.a)(b,2),g=h[0],y=h[1],w=Object(s.f)();return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/".concat(t));case 2:a=e.sent,o(a.data.data.resturants[0].name),v(a.data.data.resturants[0].location),y(a.data.data.resturants[0].price_range);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron jumbotron-fluid",style:{textAlign:"center"}},r.a.createElement("h1",{className:"display-4",style:{fontWeight:"800"}},"Update Restaurant")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E.put("/".concat(t),{name:l,location:d,price_range:g,id:t}),w.push("/")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{color:"white",fontWeight:"500",fontSize:"1.2em"}},"Name"),r.a.createElement("input",{type:"text",className:"form-control",value:l,onChange:function(e){return o(e.target.value)},style:{fontWeight:"700",fontSize:"1em"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{color:"white",fontWeight:"500",fontSize:"1.2em"}},"Location"),r.a.createElement("input",{type:"text",className:"form-control",value:d,onChange:function(e){return v(e.target.value)},style:{fontWeight:"700",fontSize:"1em"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1",style:{color:"white",fontWeight:"500",fontSize:"1.2em"}},"Price Range"),r.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",value:g,onChange:function(e){return y(e.target.value)},style:{fontWeight:"700",fontSize:"1em"}},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"))),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Update")))};var S=function(){return r.a.createElement(g,null,r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:j}),r.a.createElement(s.a,{exact:!0,path:"/reviews/:id",component:N}),r.a.createElement(s.a,{exact:!0,path:"/:id/update",component:O})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.ee4f263e.chunk.js.map